--- src/base/main/mainUtils.c	2012-07-17 20:50:44.699372752 -0700
+++ src/base/main/mainUtils.c	2012-07-17 20:51:32.087365931 -0700
@@ -21,10 +21,6 @@
 #include "base/abc/abc.h"
 #include "mainInt.h"
 
-#ifndef _WIN32
-#include <readline/readline.h>
-#include <readline/history.h>
-#endif
 
 ABC_NAMESPACE_IMPL_START
 
@@ -76,17 +72,9 @@
 #endif
 
     sprintf( Prompt, "abc %02d> ", pAbc->nSteps );
-#ifdef _WIN32
     fprintf( pAbc->Out, "%s", Prompt );
     fgets( Prompt, 5000, stdin );
     return Prompt;
-#else
-    if (line != NULL) ABC_FREE(line);
-    line = readline(Prompt);  
-    if (line == NULL){ printf("***EOF***\n"); exit(0); }
-    add_history(line);
-    return line;
-#endif
 }
 
 /**Function*************************************************************
@@ -120,7 +108,7 @@
 {
     fprintf( pAbc->Err, "\n" );
     fprintf( pAbc->Err,
-             "usage: %s [-c cmd] [-f script] [-h] [-o file] [-s] [-t type] [-T type] [-x] [-b] [file]\n", 
+             "usage: %s [-c cmd] [-f script] [-h] [-o file] [-s] [-t type] [-T type] [-x] [-b] [file]\n",
              ProgName);
     fprintf( pAbc->Err, "    -c cmd\texecute commands `cmd'\n");
     fprintf( pAbc->Err, "    -F script\texecute commands from a script file and echo commands\n");
@@ -140,14 +128,14 @@
   Synopsis    []
 
   Description []
-               
+
   SideEffects []
 
   SeeAlso     []
 
 ***********************************************************************/
 void Abc_UtilsSource( Abc_Frame_t * pAbc )
-{  
+{
 #ifdef WIN32
     if ( Cmd_CommandExecute(pAbc, "source abc.rc") )
     {
@@ -166,7 +154,7 @@
          // it from the home directory.  Otherwise, read it from wherever it's located.
         sPath1 = Extra_UtilFileSearch(".rc", "~/", "r");
         sPath2 = Extra_UtilFileSearch(".rc", ".",  "r");
-  
+
         if ( sPath1 && sPath2 ) {
             /* ~/.rc == .rc : Source the file only once */
             (void) Cmd_CommandExecute(pAbc, "source -s ~/.rc");
@@ -181,7 +169,7 @@
         }
         if ( sPath1 ) ABC_FREE(sPath1);
         if ( sPath2 ) ABC_FREE(sPath2);
-    
+
         /* execute the abc script which can be open with the "open_path" */
         Cmd_CommandExecute( pAbc, "source -s abc.rc" );
     }
@@ -193,7 +181,7 @@
         /* read script file from $ABC_PYTHON_ABC_RC */
 
         char * sPath = getenv("ABC_PYTHON_ABC_RC");
-        
+
         if (sPath){
             char * sCmd = ABC_ALLOC(char, strlen(sPath) + 50);
             (void) sprintf(sCmd, "source -s %s", sPath);
@@ -250,11 +238,11 @@
         /* execute the abc script which can be open with the "open_path" */
         Cmd_CommandExecute( pAbc, "source -s abc.rc" );
     }
-    
+
 #endif //WIN32
     {
         // reset command history
-        char * pName; 
+        char * pName;
         int i;
         Vec_PtrForEachEntry( char *, pAbc->aHistory, pName, i )
             ABC_FREE( pName );
@@ -295,7 +283,7 @@
       if (hour == 0) hour = 12;
       at = "AM";
     }
-    (void) sprintf(result, "%d-%3s-%02d at %d:%02d %s", 
+    (void) sprintf(result, "%d-%3s-%02d at %d:%02d %s",
                    date, month, year % 100, hour, minute, at);
     return result;
   }
@@ -312,4 +300,3 @@
 
 
 ABC_NAMESPACE_IMPL_END
-
